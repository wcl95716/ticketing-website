# API 接口文档

## 1. 获取 API 终点

- **URL:** `/api_endpoint`
- **方法:** `GET`
- **描述:** 获取来自 `api_module.py` 的 API 终点。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** `这是来自api_module.py的API终点`

## 2. 添加聊天记录

- **URL:** `/add_chat_record`
- **方法:** `POST`
- **描述:** 添加新的聊天记录。
- **请求体:** JSON 对象，表示聊天记录。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** `{"message": "聊天记录添加成功"}`

## 3. 获取聊天历史

- **URL:** `/get_chat_history/<ticket_id>`
- **方法:** `GET`
- **描述:** 获取指定工单的聊天历史。
- **参数:** `ticket_id` (整数) - 工单的 ID。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** 包含指定工单聊天历史的 JSON 数组。

## 4. 添加工单

- **URL:** `/add_ticket`
- **方法:** `GET`
- **描述:** 添加新的工单。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** `{"message": "工单添加成功"}`

## 5. 获取工单

- **URL:** `/get_ticket/<ticket_id>`
- **方法:** `GET`
- **描述:** 根据 ID 获取工单详情。
- **参数:** `ticket_id` (整数) - 工单的 ID。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** 包含工单详情的 JSON 对象。

## 6. 删除工单

- **URL:** `/delete_ticket/<ticket_id>`
- **方法:** `GET`
- **描述:** 根据 ID 删除工单。
- **参数:** `ticket_id` (整数) - 要删除的工单 ID。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** `{"message": "成功删除工单"}`

## 7. 获取所有工单

- **URL:** `/get_all_tickets`
- **方法:** `GET`
- **描述:** 获取所有工单的列表。
- **请求体:** JSON 对象，表示条件。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** 包含所有工单详情的 JSON 数组。


## 根据条件搜索工单

- **URL:** `/get_ticket_filter`
- **方法:** `POST`
- **描述:** 获取所有工单的列表。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** 返回筛选后工单的列表。


## 8. 上传文件

- **URL:** `/upload_file`
- **方法:** `POST`
- **描述:** 上传文件。
- **请求体:** 带有附件的表单数据。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** 包含文件信息的 JSON 对象，包括 `file_id` 和 `file_url`。

## 9. 获取上传的文件

- **URL:** `/uploads/<filename>`
- **方法:** `GET`
- **描述:** 根据文件名获取已上传的文件。
- **参数:** `filename` (字符串) - 已上传文件的名称。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** 请求的文件。

## 10. 获取用户列表

- **URL:** `/get_users`
- **方法:** `GET`
- **描述:** 获取用户列表。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** 包含用户详情的 JSON 数组。

## 11. 获取用户

- **URL:** `/get_user/<user_id>`
- **方法:** `GET`
- **描述:** 根据 ID 获取用户详情。
- **参数:** `user_id` (整数) - 用户的 ID。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** 包含用户详情的 JSON 对象。

## 12. 更新用户

- **URL:** `/update_user`
- **方法:** `POST`
- **描述:** 更新用户信息。
- **请求体:** JSON 对象，表示更新后的用户数据。
- **响应:**
  - **状态码:** `200 OK`
  - **返回内容:** `{"message": "用户信息更新成功"}`


# API 接口文档

## 添加工单

- **URL:** `/add_ticket`
- **方法:** `POST`
- **描述:** 用于添加新的工单。
- **请求体:** JSON 对象，表示要添加的工单数据。
- **成功响应:**
  - **状态码:** `200 OK`
  - **返回内容:** `{"message": "Ticket updated successfully"}`
- **错误响应:**
  - **返回内容:** `{"error": "<error_message>"}`，其中 `<error_message>` 表示捕获到的异常信息。

## 修改工单

- **URL:** `/update_ticket`
- **方法:** `POST`
- **描述:** 用于更新现有工单的信息。
- **请求体:** JSON 对象，表示要更新的工单数据。
- **成功响应:**
  - **状态码:** `200 OK`
  - **返回内容:** `{"message": "Ticket updated successfully"}`
- **错误响应:**
  - **返回内容:** `{"error": "<error_message>"}`，其中 `<error_message>` 表示捕获到的异常信息。



